<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log In - The Community Path Project</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Global Stylesheet (for font) -->
    <link rel="stylesheet" href="/static/css/style.css">
    
    <!-- Form-Specific Stylesheet (Same as signup!) -->
    <link rel="stylesheet" href="/static/css/forms.css">
</head>
<body class="bg-gray-50">

    <!-- Simple Header with Logo -->
    <header class="py-8">
        <div class="container mx-auto px-6 text-center">
            <a href="/" class="inline-block">
                <img src="/static/images/logo.png" alt="Community Path Project Logo" class="h-16 w-auto mx-auto">
            </a>
        </div>
    </header>

    <!-- Login Form Container -->
    <main class="form-container mx-auto">
        <h1 class="text-3xl font-bold text-gray-900 text-center">Welcome Back</h1>
        <p class="text-gray-600 text-center mt-3">
            Log in to continue your journey.
        </p>

        <!-- 
          Flask Flash Messages
          This block will display any error messages from Flask (e.g., "Invalid username or password")
        -->
        {% with messages = get_flashed_messages() %}
          {% if messages %}
            <div class="flash-messages mt-6">
              {% for message in messages %}
                <!-- 
                  We check the message content to decide on the color.
                  "Signup successful" is green, others are red (errors).
                -->
                {% if 'successful' in message %}
                  <div class="flash-message bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg" role="alert">
                    {{ message }}
                  </div>
                {% else %}
                  <div class="flash-message bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg" role="alert">
                    {{ message }}
                  </div>
                {% endif %}
              {% endfor %}
            </div>
          {% endif %}
        {% endwith %}

        <!-- Login Form -->
        <form action="/login" method="POST" class="mt-8 space-y-6">
            <div>
                <label for="username" class="form-label">Username</label>
                <input type="text" id="username" name="username" class="form-input" required>
            </div>
            
            <div>
                <label for="password" class="form-label">Password</label>
                <input type="password" id="password" name="password" class="form-input" required>
            </div>

            <div>
                <button type="submit" class="form-button">
                    Log In
                </button>
            </div>
        </form>

        <!-- Link to Signup -->
        <p class="mt-8 text-center text-gray-600">
            Don't have an account?
            <a href="/signup" class="font-medium text-indigo-700 hover:text-indigo-800">
                Sign Up
            </a>
        </p>
    </main>

    <!-- Simple Footer -->
    <footer class="py-8 mt-16">
        <div class="container mx-auto px-6 text-center text-sm text-gray-600">
            Â© 2025 The Community Path Project. All rights reserved.
        </div>
    </footer>

</body>
</html>